var Jr=Object.create;var sr=Object.defineProperty;var zr=Object.getOwnPropertyDescriptor;var Qr=Object.getOwnPropertyNames;var Vr=Object.getPrototypeOf,Zr=Object.prototype.hasOwnProperty;var re=(t,r,e)=>r in t?sr(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e;var ee=(t,r)=>()=>(t&&(r=t(t=0)),r);var Y=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports);var te=(t,r,e,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of Qr(r))!Zr.call(t,s)&&s!==e&&sr(t,s,{get:()=>r[s],enumerable:!(n=zr(r,s))||n.enumerable});return t};var Er=(t,r,e)=>(e=t!=null?Jr(Vr(t)):{},te(r||!t||!t.__esModule?sr(e,"default",{value:t,enumerable:!0}):e,t));var E=(t,r,e)=>(re(t,typeof r!="symbol"?r+"":r,e),e);var vr=Y(J=>{"use strict";f();J.byteLength=se;J.toByteArray=oe;J.fromByteArray=ue;var v=[],T=[],ne=typeof Uint8Array<"u"?Uint8Array:Array,ir="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(P=0,Tr=ir.length;P<Tr;++P)v[P]=ir[P],T[ir.charCodeAt(P)]=P;var P,Tr;T["-".charCodeAt(0)]=62;T["_".charCodeAt(0)]=63;function Cr(t){var r=t.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=t.indexOf("=");e===-1&&(e=r);var n=e===r?0:4-e%4;return[e,n]}function se(t){var r=Cr(t),e=r[0],n=r[1];return(e+n)*3/4-n}function ie(t,r,e){return(r+e)*3/4-e}function oe(t){var r,e=Cr(t),n=e[0],s=e[1],i=new ne(ie(t,n,s)),o=0,c=s>0?n-4:n,u;for(u=0;u<c;u+=4)r=T[t.charCodeAt(u)]<<18|T[t.charCodeAt(u+1)]<<12|T[t.charCodeAt(u+2)]<<6|T[t.charCodeAt(u+3)],i[o++]=r>>16&255,i[o++]=r>>8&255,i[o++]=r&255;return s===2&&(r=T[t.charCodeAt(u)]<<2|T[t.charCodeAt(u+1)]>>4,i[o++]=r&255),s===1&&(r=T[t.charCodeAt(u)]<<10|T[t.charCodeAt(u+1)]<<4|T[t.charCodeAt(u+2)]>>2,i[o++]=r>>8&255,i[o++]=r&255),i}function ae(t){return v[t>>18&63]+v[t>>12&63]+v[t>>6&63]+v[t&63]}function ce(t,r,e){for(var n,s=[],i=r;i<e;i+=3)n=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),s.push(ae(n));return s.join("")}function ue(t){for(var r,e=t.length,n=e%3,s=[],i=16383,o=0,c=e-n;o<c;o+=i)s.push(ce(t,o,o+i>c?c:o+i));return n===1?(r=t[e-1],s.push(v[r>>2]+v[r<<4&63]+"==")):n===2&&(r=(t[e-2]<<8)+t[e-1],s.push(v[r>>10]+v[r>>4&63]+v[r<<2&63]+"=")),s.join("")}});var kr=Y(or=>{f();or.read=function(t,r,e,n,s){var i,o,c=s*8-n-1,u=(1<<c)-1,l=u>>1,g=-7,p=e?s-1:0,C=e?-1:1,A=t[r+p];for(p+=C,i=A&(1<<-g)-1,A>>=-g,g+=c;g>0;i=i*256+t[r+p],p+=C,g-=8);for(o=i&(1<<-g)-1,i>>=-g,g+=n;g>0;o=o*256+t[r+p],p+=C,g-=8);if(i===0)i=1-l;else{if(i===u)return o?NaN:(A?-1:1)*(1/0);o=o+Math.pow(2,n),i=i-l}return(A?-1:1)*o*Math.pow(2,i-n)};or.write=function(t,r,e,n,s,i){var o,c,u,l=i*8-s-1,g=(1<<l)-1,p=g>>1,C=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,A=n?0:i-1,X=n?1:-1,Yr=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(c=isNaN(r)?1:0,o=g):(o=Math.floor(Math.log(r)/Math.LN2),r*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+p>=1?r+=C/u:r+=C*Math.pow(2,1-p),r*u>=2&&(o++,u/=2),o+p>=g?(c=0,o=g):o+p>=1?(c=(r*u-1)*Math.pow(2,s),o=o+p):(c=r*Math.pow(2,p-1)*Math.pow(2,s),o=0));s>=8;t[e+A]=c&255,A+=X,c/=256,s-=8);for(o=o<<s|c,l+=s;l>0;t[e+A]=o&255,A+=X,o/=256,l-=8);t[e+A-X]|=Yr*128}});var jr=Y(W=>{"use strict";f();var ar=vr(),K=kr(),Fr=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;W.Buffer=a;W.SlowBuffer=de;W.INSPECT_MAX_BYTES=50;var z=2147483647;W.kMaxLength=z;a.TYPED_ARRAY_SUPPORT=le();!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function le(){try{var t=new Uint8Array(1),r={foo:function(){return 42}};return Object.setPrototypeOf(r,Uint8Array.prototype),Object.setPrototypeOf(t,r),t.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(!!a.isBuffer(this))return this.buffer}});Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(!!a.isBuffer(this))return this.byteOffset}});function U(t){if(t>z)throw new RangeError('The value "'+t+'" is invalid for option "size"');var r=new Uint8Array(t);return Object.setPrototypeOf(r,a.prototype),r}function a(t,r,e){if(typeof t=="number"){if(typeof r=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return pr(t)}return Ur(t,r,e)}a.poolSize=8192;function Ur(t,r,e){if(typeof t=="string")return he(t,r);if(ArrayBuffer.isView(t))return ge(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(k(t,ArrayBuffer)||t&&k(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(k(t,SharedArrayBuffer)||t&&k(t.buffer,SharedArrayBuffer)))return ur(t,r,e);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return a.from(n,r,e);var s=fe(t);if(s)return s;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return a.from(t[Symbol.toPrimitive]("string"),r,e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}a.from=function(t,r,e){return Ur(t,r,e)};Object.setPrototypeOf(a.prototype,Uint8Array.prototype);Object.setPrototypeOf(a,Uint8Array);function Nr(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function pe(t,r,e){return Nr(t),t<=0?U(t):r!==void 0?typeof e=="string"?U(t).fill(r,e):U(t).fill(r):U(t)}a.alloc=function(t,r,e){return pe(t,r,e)};function pr(t){return Nr(t),U(t<0?0:hr(t)|0)}a.allocUnsafe=function(t){return pr(t)};a.allocUnsafeSlow=function(t){return pr(t)};function he(t,r){if((typeof r!="string"||r==="")&&(r="utf8"),!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r);var e=Rr(t,r)|0,n=U(e),s=n.write(t,r);return s!==e&&(n=n.slice(0,s)),n}function cr(t){for(var r=t.length<0?0:hr(t.length)|0,e=U(r),n=0;n<r;n+=1)e[n]=t[n]&255;return e}function ge(t){if(k(t,Uint8Array)){var r=new Uint8Array(t);return ur(r.buffer,r.byteOffset,r.byteLength)}return cr(t)}function ur(t,r,e){if(r<0||t.byteLength<r)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<r+(e||0))throw new RangeError('"length" is outside of buffer bounds');var n;return r===void 0&&e===void 0?n=new Uint8Array(t):e===void 0?n=new Uint8Array(t,r):n=new Uint8Array(t,r,e),Object.setPrototypeOf(n,a.prototype),n}function fe(t){if(a.isBuffer(t)){var r=hr(t.length)|0,e=U(r);return e.length===0||t.copy(e,0,0,r),e}if(t.length!==void 0)return typeof t.length!="number"||gr(t.length)?U(0):cr(t);if(t.type==="Buffer"&&Array.isArray(t.data))return cr(t.data)}function hr(t){if(t>=z)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+z.toString(16)+" bytes");return t|0}function de(t){return+t!=t&&(t=0),a.alloc(+t)}a.isBuffer=function(r){return r!=null&&r._isBuffer===!0&&r!==a.prototype};a.compare=function(r,e){if(k(r,Uint8Array)&&(r=a.from(r,r.offset,r.byteLength)),k(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(r)||!a.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(r===e)return 0;for(var n=r.length,s=e.length,i=0,o=Math.min(n,s);i<o;++i)if(r[i]!==e[i]){n=r[i],s=e[i];break}return n<s?-1:s<n?1:0};a.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};a.concat=function(r,e){if(!Array.isArray(r))throw new TypeError('"list" argument must be an Array of Buffers');if(r.length===0)return a.alloc(0);var n;if(e===void 0)for(e=0,n=0;n<r.length;++n)e+=r[n].length;var s=a.allocUnsafe(e),i=0;for(n=0;n<r.length;++n){var o=r[n];if(k(o,Uint8Array))i+o.length>s.length?a.from(o).copy(s,i):Uint8Array.prototype.set.call(s,o,i);else if(a.isBuffer(o))o.copy(s,i);else throw new TypeError('"list" argument must be an Array of Buffers');i+=o.length}return s};function Rr(t,r){if(a.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||k(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var e=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&e===0)return 0;for(var s=!1;;)switch(r){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":return lr(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return e*2;case"hex":return e>>>1;case"base64":return Pr(t).length;default:if(s)return n?-1:lr(t).length;r=(""+r).toLowerCase(),s=!0}}a.byteLength=Rr;function ye(t,r,e){var n=!1;if((r===void 0||r<0)&&(r=0),r>this.length||((e===void 0||e>this.length)&&(e=this.length),e<=0)||(e>>>=0,r>>>=0,e<=r))return"";for(t||(t="utf8");;)switch(t){case"hex":return ke(this,r,e);case"utf8":case"utf-8":return Dr(this,r,e);case"ascii":return Ce(this,r,e);case"latin1":case"binary":return ve(this,r,e);case"base64":return Ee(this,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Fe(this,r,e);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}a.prototype._isBuffer=!0;function j(t,r,e){var n=t[r];t[r]=t[e],t[e]=n}a.prototype.swap16=function(){var r=this.length;if(r%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<r;e+=2)j(this,e,e+1);return this};a.prototype.swap32=function(){var r=this.length;if(r%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<r;e+=4)j(this,e,e+3),j(this,e+1,e+2);return this};a.prototype.swap64=function(){var r=this.length;if(r%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<r;e+=8)j(this,e,e+7),j(this,e+1,e+6),j(this,e+2,e+5),j(this,e+3,e+4);return this};a.prototype.toString=function(){var r=this.length;return r===0?"":arguments.length===0?Dr(this,0,r):ye.apply(this,arguments)};a.prototype.toLocaleString=a.prototype.toString;a.prototype.equals=function(r){if(!a.isBuffer(r))throw new TypeError("Argument must be a Buffer");return this===r?!0:a.compare(this,r)===0};a.prototype.inspect=function(){var r="",e=W.INSPECT_MAX_BYTES;return r=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(r+=" ... "),"<Buffer "+r+">"};Fr&&(a.prototype[Fr]=a.prototype.inspect);a.prototype.compare=function(r,e,n,s,i){if(k(r,Uint8Array)&&(r=a.from(r,r.offset,r.byteLength)),!a.isBuffer(r))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof r);if(e===void 0&&(e=0),n===void 0&&(n=r?r.length:0),s===void 0&&(s=0),i===void 0&&(i=this.length),e<0||n>r.length||s<0||i>this.length)throw new RangeError("out of range index");if(s>=i&&e>=n)return 0;if(s>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,s>>>=0,i>>>=0,this===r)return 0;for(var o=i-s,c=n-e,u=Math.min(o,c),l=this.slice(s,i),g=r.slice(e,n),p=0;p<u;++p)if(l[p]!==g[p]){o=l[p],c=g[p];break}return o<c?-1:c<o?1:0};function Sr(t,r,e,n,s){if(t.length===0)return-1;if(typeof e=="string"?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,gr(e)&&(e=s?0:t.length-1),e<0&&(e=t.length+e),e>=t.length){if(s)return-1;e=t.length-1}else if(e<0)if(s)e=0;else return-1;if(typeof r=="string"&&(r=a.from(r,n)),a.isBuffer(r))return r.length===0?-1:br(t,r,e,n,s);if(typeof r=="number")return r=r&255,typeof Uint8Array.prototype.indexOf=="function"?s?Uint8Array.prototype.indexOf.call(t,r,e):Uint8Array.prototype.lastIndexOf.call(t,r,e):br(t,[r],e,n,s);throw new TypeError("val must be string, number or Buffer")}function br(t,r,e,n,s){var i=1,o=t.length,c=r.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||r.length<2)return-1;i=2,o/=2,c/=2,e/=2}function u(A,X){return i===1?A[X]:A.readUInt16BE(X*i)}var l;if(s){var g=-1;for(l=e;l<o;l++)if(u(t,l)===u(r,g===-1?0:l-g)){if(g===-1&&(g=l),l-g+1===c)return g*i}else g!==-1&&(l-=l-g),g=-1}else for(e+c>o&&(e=o-c),l=e;l>=0;l--){for(var p=!0,C=0;C<c;C++)if(u(t,l+C)!==u(r,C)){p=!1;break}if(p)return l}return-1}a.prototype.includes=function(r,e,n){return this.indexOf(r,e,n)!==-1};a.prototype.indexOf=function(r,e,n){return Sr(this,r,e,n,!0)};a.prototype.lastIndexOf=function(r,e,n){return Sr(this,r,e,n,!1)};function we(t,r,e,n){e=Number(e)||0;var s=t.length-e;n?(n=Number(n),n>s&&(n=s)):n=s;var i=r.length;n>i/2&&(n=i/2);for(var o=0;o<n;++o){var c=parseInt(r.substr(o*2,2),16);if(gr(c))return o;t[e+o]=c}return o}function me(t,r,e,n){return Q(lr(r,t.length-e),t,e,n)}function xe(t,r,e,n){return Q(Ue(r),t,e,n)}function Ie(t,r,e,n){return Q(Pr(r),t,e,n)}function Ae(t,r,e,n){return Q(Ne(r,t.length-e),t,e,n)}a.prototype.write=function(r,e,n,s){if(e===void 0)s="utf8",n=this.length,e=0;else if(n===void 0&&typeof e=="string")s=e,n=this.length,e=0;else if(isFinite(e))e=e>>>0,isFinite(n)?(n=n>>>0,s===void 0&&(s="utf8")):(s=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i=this.length-e;if((n===void 0||n>i)&&(n=i),r.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");s||(s="utf8");for(var o=!1;;)switch(s){case"hex":return we(this,r,e,n);case"utf8":case"utf-8":return me(this,r,e,n);case"ascii":case"latin1":case"binary":return xe(this,r,e,n);case"base64":return Ie(this,r,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ae(this,r,e,n);default:if(o)throw new TypeError("Unknown encoding: "+s);s=(""+s).toLowerCase(),o=!0}};a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ee(t,r,e){return r===0&&e===t.length?ar.fromByteArray(t):ar.fromByteArray(t.slice(r,e))}function Dr(t,r,e){e=Math.min(t.length,e);for(var n=[],s=r;s<e;){var i=t[s],o=null,c=i>239?4:i>223?3:i>191?2:1;if(s+c<=e){var u,l,g,p;switch(c){case 1:i<128&&(o=i);break;case 2:u=t[s+1],(u&192)===128&&(p=(i&31)<<6|u&63,p>127&&(o=p));break;case 3:u=t[s+1],l=t[s+2],(u&192)===128&&(l&192)===128&&(p=(i&15)<<12|(u&63)<<6|l&63,p>2047&&(p<55296||p>57343)&&(o=p));break;case 4:u=t[s+1],l=t[s+2],g=t[s+3],(u&192)===128&&(l&192)===128&&(g&192)===128&&(p=(i&15)<<18|(u&63)<<12|(l&63)<<6|g&63,p>65535&&p<1114112&&(o=p))}}o===null?(o=65533,c=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),s+=c}return Te(n)}var Br=4096;function Te(t){var r=t.length;if(r<=Br)return String.fromCharCode.apply(String,t);for(var e="",n=0;n<r;)e+=String.fromCharCode.apply(String,t.slice(n,n+=Br));return e}function Ce(t,r,e){var n="";e=Math.min(t.length,e);for(var s=r;s<e;++s)n+=String.fromCharCode(t[s]&127);return n}function ve(t,r,e){var n="";e=Math.min(t.length,e);for(var s=r;s<e;++s)n+=String.fromCharCode(t[s]);return n}function ke(t,r,e){var n=t.length;(!r||r<0)&&(r=0),(!e||e<0||e>n)&&(e=n);for(var s="",i=r;i<e;++i)s+=Re[t[i]];return s}function Fe(t,r,e){for(var n=t.slice(r,e),s="",i=0;i<n.length-1;i+=2)s+=String.fromCharCode(n[i]+n[i+1]*256);return s}a.prototype.slice=function(r,e){var n=this.length;r=~~r,e=e===void 0?n:~~e,r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<r&&(e=r);var s=this.subarray(r,e);return Object.setPrototypeOf(s,a.prototype),s};function y(t,r,e){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+r>e)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(r,e,n){r=r>>>0,e=e>>>0,n||y(r,e,this.length);for(var s=this[r],i=1,o=0;++o<e&&(i*=256);)s+=this[r+o]*i;return s};a.prototype.readUintBE=a.prototype.readUIntBE=function(r,e,n){r=r>>>0,e=e>>>0,n||y(r,e,this.length);for(var s=this[r+--e],i=1;e>0&&(i*=256);)s+=this[r+--e]*i;return s};a.prototype.readUint8=a.prototype.readUInt8=function(r,e){return r=r>>>0,e||y(r,1,this.length),this[r]};a.prototype.readUint16LE=a.prototype.readUInt16LE=function(r,e){return r=r>>>0,e||y(r,2,this.length),this[r]|this[r+1]<<8};a.prototype.readUint16BE=a.prototype.readUInt16BE=function(r,e){return r=r>>>0,e||y(r,2,this.length),this[r]<<8|this[r+1]};a.prototype.readUint32LE=a.prototype.readUInt32LE=function(r,e){return r=r>>>0,e||y(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+this[r+3]*16777216};a.prototype.readUint32BE=a.prototype.readUInt32BE=function(r,e){return r=r>>>0,e||y(r,4,this.length),this[r]*16777216+(this[r+1]<<16|this[r+2]<<8|this[r+3])};a.prototype.readIntLE=function(r,e,n){r=r>>>0,e=e>>>0,n||y(r,e,this.length);for(var s=this[r],i=1,o=0;++o<e&&(i*=256);)s+=this[r+o]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*e)),s};a.prototype.readIntBE=function(r,e,n){r=r>>>0,e=e>>>0,n||y(r,e,this.length);for(var s=e,i=1,o=this[r+--s];s>0&&(i*=256);)o+=this[r+--s]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o};a.prototype.readInt8=function(r,e){return r=r>>>0,e||y(r,1,this.length),this[r]&128?(255-this[r]+1)*-1:this[r]};a.prototype.readInt16LE=function(r,e){r=r>>>0,e||y(r,2,this.length);var n=this[r]|this[r+1]<<8;return n&32768?n|4294901760:n};a.prototype.readInt16BE=function(r,e){r=r>>>0,e||y(r,2,this.length);var n=this[r+1]|this[r]<<8;return n&32768?n|4294901760:n};a.prototype.readInt32LE=function(r,e){return r=r>>>0,e||y(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24};a.prototype.readInt32BE=function(r,e){return r=r>>>0,e||y(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]};a.prototype.readFloatLE=function(r,e){return r=r>>>0,e||y(r,4,this.length),K.read(this,r,!0,23,4)};a.prototype.readFloatBE=function(r,e){return r=r>>>0,e||y(r,4,this.length),K.read(this,r,!1,23,4)};a.prototype.readDoubleLE=function(r,e){return r=r>>>0,e||y(r,8,this.length),K.read(this,r,!0,52,8)};a.prototype.readDoubleBE=function(r,e){return r=r>>>0,e||y(r,8,this.length),K.read(this,r,!1,52,8)};function I(t,r,e,n,s,i){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>s||r<i)throw new RangeError('"value" argument is out of bounds');if(e+n>t.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(r,e,n,s){if(r=+r,e=e>>>0,n=n>>>0,!s){var i=Math.pow(2,8*n)-1;I(this,r,e,n,i,0)}var o=1,c=0;for(this[e]=r&255;++c<n&&(o*=256);)this[e+c]=r/o&255;return e+n};a.prototype.writeUintBE=a.prototype.writeUIntBE=function(r,e,n,s){if(r=+r,e=e>>>0,n=n>>>0,!s){var i=Math.pow(2,8*n)-1;I(this,r,e,n,i,0)}var o=n-1,c=1;for(this[e+o]=r&255;--o>=0&&(c*=256);)this[e+o]=r/c&255;return e+n};a.prototype.writeUint8=a.prototype.writeUInt8=function(r,e,n){return r=+r,e=e>>>0,n||I(this,r,e,1,255,0),this[e]=r&255,e+1};a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(r,e,n){return r=+r,e=e>>>0,n||I(this,r,e,2,65535,0),this[e]=r&255,this[e+1]=r>>>8,e+2};a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(r,e,n){return r=+r,e=e>>>0,n||I(this,r,e,2,65535,0),this[e]=r>>>8,this[e+1]=r&255,e+2};a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(r,e,n){return r=+r,e=e>>>0,n||I(this,r,e,4,4294967295,0),this[e+3]=r>>>24,this[e+2]=r>>>16,this[e+1]=r>>>8,this[e]=r&255,e+4};a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(r,e,n){return r=+r,e=e>>>0,n||I(this,r,e,4,4294967295,0),this[e]=r>>>24,this[e+1]=r>>>16,this[e+2]=r>>>8,this[e+3]=r&255,e+4};a.prototype.writeIntLE=function(r,e,n,s){if(r=+r,e=e>>>0,!s){var i=Math.pow(2,8*n-1);I(this,r,e,n,i-1,-i)}var o=0,c=1,u=0;for(this[e]=r&255;++o<n&&(c*=256);)r<0&&u===0&&this[e+o-1]!==0&&(u=1),this[e+o]=(r/c>>0)-u&255;return e+n};a.prototype.writeIntBE=function(r,e,n,s){if(r=+r,e=e>>>0,!s){var i=Math.pow(2,8*n-1);I(this,r,e,n,i-1,-i)}var o=n-1,c=1,u=0;for(this[e+o]=r&255;--o>=0&&(c*=256);)r<0&&u===0&&this[e+o+1]!==0&&(u=1),this[e+o]=(r/c>>0)-u&255;return e+n};a.prototype.writeInt8=function(r,e,n){return r=+r,e=e>>>0,n||I(this,r,e,1,127,-128),r<0&&(r=255+r+1),this[e]=r&255,e+1};a.prototype.writeInt16LE=function(r,e,n){return r=+r,e=e>>>0,n||I(this,r,e,2,32767,-32768),this[e]=r&255,this[e+1]=r>>>8,e+2};a.prototype.writeInt16BE=function(r,e,n){return r=+r,e=e>>>0,n||I(this,r,e,2,32767,-32768),this[e]=r>>>8,this[e+1]=r&255,e+2};a.prototype.writeInt32LE=function(r,e,n){return r=+r,e=e>>>0,n||I(this,r,e,4,2147483647,-2147483648),this[e]=r&255,this[e+1]=r>>>8,this[e+2]=r>>>16,this[e+3]=r>>>24,e+4};a.prototype.writeInt32BE=function(r,e,n){return r=+r,e=e>>>0,n||I(this,r,e,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),this[e]=r>>>24,this[e+1]=r>>>16,this[e+2]=r>>>8,this[e+3]=r&255,e+4};function Or(t,r,e,n,s,i){if(e+n>t.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function Mr(t,r,e,n,s){return r=+r,e=e>>>0,s||Or(t,r,e,4,34028234663852886e22,-34028234663852886e22),K.write(t,r,e,n,23,4),e+4}a.prototype.writeFloatLE=function(r,e,n){return Mr(this,r,e,!0,n)};a.prototype.writeFloatBE=function(r,e,n){return Mr(this,r,e,!1,n)};function Lr(t,r,e,n,s){return r=+r,e=e>>>0,s||Or(t,r,e,8,17976931348623157e292,-17976931348623157e292),K.write(t,r,e,n,52,8),e+8}a.prototype.writeDoubleLE=function(r,e,n){return Lr(this,r,e,!0,n)};a.prototype.writeDoubleBE=function(r,e,n){return Lr(this,r,e,!1,n)};a.prototype.copy=function(r,e,n,s){if(!a.isBuffer(r))throw new TypeError("argument should be a Buffer");if(n||(n=0),!s&&s!==0&&(s=this.length),e>=r.length&&(e=r.length),e||(e=0),s>0&&s<n&&(s=n),s===n||r.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(s<0)throw new RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),r.length-e<s-n&&(s=r.length-e+n);var i=s-n;return this===r&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(e,n,s):Uint8Array.prototype.set.call(r,this.subarray(n,s),e),i};a.prototype.fill=function(r,e,n,s){if(typeof r=="string"){if(typeof e=="string"?(s=e,e=0,n=this.length):typeof n=="string"&&(s=n,n=this.length),s!==void 0&&typeof s!="string")throw new TypeError("encoding must be a string");if(typeof s=="string"&&!a.isEncoding(s))throw new TypeError("Unknown encoding: "+s);if(r.length===1){var i=r.charCodeAt(0);(s==="utf8"&&i<128||s==="latin1")&&(r=i)}}else typeof r=="number"?r=r&255:typeof r=="boolean"&&(r=Number(r));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e=e>>>0,n=n===void 0?this.length:n>>>0,r||(r=0);var o;if(typeof r=="number")for(o=e;o<n;++o)this[o]=r;else{var c=a.isBuffer(r)?r:a.from(r,s),u=c.length;if(u===0)throw new TypeError('The value "'+r+'" is invalid for argument "value"');for(o=0;o<n-e;++o)this[o+e]=c[o%u]}return this};var be=/[^+/0-9A-Za-z-_]/g;function Be(t){if(t=t.split("=")[0],t=t.trim().replace(be,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function lr(t,r){r=r||1/0;for(var e,n=t.length,s=null,i=[],o=0;o<n;++o){if(e=t.charCodeAt(o),e>55295&&e<57344){if(!s){if(e>56319){(r-=3)>-1&&i.push(239,191,189);continue}else if(o+1===n){(r-=3)>-1&&i.push(239,191,189);continue}s=e;continue}if(e<56320){(r-=3)>-1&&i.push(239,191,189),s=e;continue}e=(s-55296<<10|e-56320)+65536}else s&&(r-=3)>-1&&i.push(239,191,189);if(s=null,e<128){if((r-=1)<0)break;i.push(e)}else if(e<2048){if((r-=2)<0)break;i.push(e>>6|192,e&63|128)}else if(e<65536){if((r-=3)<0)break;i.push(e>>12|224,e>>6&63|128,e&63|128)}else if(e<1114112){if((r-=4)<0)break;i.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}else throw new Error("Invalid code point")}return i}function Ue(t){for(var r=[],e=0;e<t.length;++e)r.push(t.charCodeAt(e)&255);return r}function Ne(t,r){for(var e,n,s,i=[],o=0;o<t.length&&!((r-=2)<0);++o)e=t.charCodeAt(o),n=e>>8,s=e%256,i.push(s),i.push(n);return i}function Pr(t){return ar.toByteArray(Be(t))}function Q(t,r,e,n){for(var s=0;s<n&&!(s+e>=r.length||s>=t.length);++s)r[s+e]=t[s];return s}function k(t,r){return t instanceof r||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===r.name}function gr(t){return t!==t}var Re=function(){for(var t="0123456789abcdef",r=new Array(256),e=0;e<16;++e)for(var n=e*16,s=0;s<16;++s)r[n+s]=t[e]+t[s];return r}()});var Wr=Y((Xe,Kr)=>{f();var d=Kr.exports={},F,b;function fr(){throw new Error("setTimeout has not been defined")}function dr(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?F=setTimeout:F=fr}catch{F=fr}try{typeof clearTimeout=="function"?b=clearTimeout:b=dr}catch{b=dr}})();function _r(t){if(F===setTimeout)return setTimeout(t,0);if((F===fr||!F)&&setTimeout)return F=setTimeout,setTimeout(t,0);try{return F(t,0)}catch{try{return F.call(null,t,0)}catch{return F.call(this,t,0)}}}function Se(t){if(b===clearTimeout)return clearTimeout(t);if((b===dr||!b)&&clearTimeout)return b=clearTimeout,clearTimeout(t);try{return b(t)}catch{try{return b.call(null,t)}catch{return b.call(this,t)}}}var N=[],$=!1,_,V=-1;function De(){!$||!_||($=!1,_.length?N=_.concat(N):V=-1,N.length&&qr())}function qr(){if(!$){var t=_r(De);$=!0;for(var r=N.length;r;){for(_=N,N=[];++V<r;)_&&_[V].run();V=-1,r=N.length}_=null,$=!1,Se(t)}}d.nextTick=function(t){var r=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)r[e-1]=arguments[e];N.push(new Xr(t,r)),N.length===1&&!$&&_r(qr)};function Xr(t,r){this.fun=t,this.array=r}Xr.prototype.run=function(){this.fun.apply(null,this.array)};d.title="browser";d.browser=!0;d.env={};d.argv=[];d.version="";d.versions={};function R(){}d.on=R;d.addListener=R;d.once=R;d.off=R;d.removeListener=R;d.removeAllListeners=R;d.emit=R;d.prependListener=R;d.prependOnceListener=R;d.listeners=function(t){return[]};d.binding=function(t){throw new Error("process.binding is not supported")};d.cwd=function(){return"/"};d.chdir=function(t){throw new Error("process.chdir is not supported")};d.umask=function(){return 0}});var w,m,Ke,f=ee(()=>{w=Er(jr()),m=Er(Wr()),Ke=function(t){function r(){var n=this||self;return delete t.prototype.__magic__,n}if(typeof globalThis=="object")return globalThis;if(this)return r();t.defineProperty(t.prototype,"__magic__",{configurable:!0,get:r});var e=__magic__;return e}(Object)});f();f();f();var $r="https://nccdapi.web.app";function Gr(t,r){if(console.log("sanity check"),r.accessToken||console.warn("YOU HAVE NO API KEY!  Just sayin"),!t)throw new Error("you must provide an api endpoint!")}var h={call:async function(t,r,e){Gr(t,r);let n=e||"v1";console.log(`running call to ${n}/${t}`);let s={};try{return s=await(await fetch(`${$r}/${n}/${t}`,{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).json(),console.log("NCCdAPIs.ts: got response!",s),s}catch(i){return console.log("there was an error ",i),{requestStatus:"fail",requestError:i,requestErrorMessage:i.message}}},requestToken(){},fetch:async function(t,r,e){Gr(t,r);let n=e||"v1";console.log(`running fetch to ${n}/${t}`);let s={};try{let i=await fetch(`${$r}/${n}/${t}`,{method:"GET",cache:"no-cache"});return console.log("got response!"),s=await i.json(),s}catch(i){return console.log("there was an error ",i),{requestStatus:"fail",requestError:i,requestErrorMessage:i.message}}}};f();var S=class{accessToken="";constructor(){}static destroy(){S.instance&&(S.instance=null)}static getInstance(r){return r.length==0?null:(S.instance||(S.instance=new S),S.instance.accessToken=r,S.instance)}static getOrgStatus(r){switch(r){case 1:return"Active";default:return"Undefined state"}}async mintOrg(r){let e={accessToken:this.accessToken,route:"mint",uuid:r.uuid};try{let n=await h.call("rodeo/org/"+r.orgName,e);return console.log("mint org resposne: ",n),n}catch(n){return console.log("there was an error ",n),null}}async updateOrg(r){let e={accessToken:this.accessToken,uuid:r.uuid,route:"update",edits:r.data};try{let n=await h.call("rodeo/org/"+r.orgName,e);console.log("the edit response is: ",n)}catch(n){console.log("there was an error ",n)}}async createOrg(r){let e={accessToken:this.accessToken,...r};console.log("data is: ",e);try{let n=await h.call("rodeo/org/create",e);return console.log("org creation response: ",n),n}catch(n){return console.log("there was an error ",n),null}}async getAllOrgs(r){if(r.length==0)return console.error("Invalid UUID"),null;let e={accessToken:this.accessToken,uuid:r};return await h.call("rodeo/test",e)}async getOrgByAppId(r,e){if(r.length==0||e==0)return r.length==0&&console.error("Invalid UUID"),e==0&&console.error("Invalid org app ID"),null;let n={accessToken:this.accessToken,uuid:r,route:"fetchByAppId"},s="rodeo/org/"+e;try{let i=await h.call(s,n);return console.log("response of fetch: ",i),i}catch(i){return console.error("there was an error: ",i),null}}async getOrgByName(r,e){if(r.length==0||e.length==0)return r.length==0&&console.error("Invalid UUID"),e.length==0&&console.error("Invalid org name"),null;let n={accessToken:this.accessToken,uuid:r,route:"fetch"},s="rodeo/org/"+e;try{let i=await h.call(s,n);return console.log("response: ",i),i}catch(i){return console.log("there was an error ",i),null}}async createProject(r,e,n,s,i,o){let c={accessToken:this.accessToken,route:"create",uuid:r,creatorAddress:e,url:n,title:s,description:i,org_id:o},u="rodeo/project/create";try{let l=await h.call(u,c);return console.log("project creation response: ",l),l}catch(l){return console.log("there was an error ",l),null}}async fetchProjectsByOrgId(r,e){let n={accessToken:this.accessToken,uuid:r,route:"fetchByOrgId",org_id:e},s="rodeo/project/all";try{let i=await h.call(s,n);return console.log("fetch projects by org response: ",i),i}catch(i){return console.log("there was an error ",i),null}}async fetchProject(r,e){let n={accessToken:this.accessToken,uuid:r,route:"fetch"},s="rodeo/project/"+e;try{let i=await h.call(s,n);return console.log("fetch projects by org response: ",i),i}catch(i){return console.log("there was an error ",i),null}}async fetchAllMilestonesByProject(r,e){let n={accessToken:this.accessToken,uuid:r,route:"fetchByProjectId",project_id:e},s="rodeo/milestone/all";try{let i=await h.call(s,n);return console.log("fetch milestones by project response: ",i),i}catch(i){return console.log("there was an error ",i),null}}async createMilestone(r,e,n,s,i,o,c,u){try{let l={accessToken:this.accessToken,uuid:r,creatorAddress:e,route:"create",title:s,description:i,url:n,data:c,project_id:o,approverUUID:u},g="rodeo/milestone/create",p=await h.call(g,l);return console.log("milestone creation response: ",p),p}catch(l){return console.log("there was an error ",l),null}}async fetchMilestone(r,e){let n={accessToken:this.accessToken,uuid:r,route:"fetch"},s="rodeo/milestone/"+e;try{let i=await h.call(s,n);return console.log("fetch milestone by id: ",i),i}catch(i){return console.log("there was an error ",i),null}}},q=S;E(q,"instance");f();var D=class{accessToken="";constructor(){}static destroy(){D.instance&&(D.instance=null)}static getInstance(r){return r.length==0?null:(D.instance||(D.instance=new D),D.instance.accessToken=r,D.instance)}async sendBricks(r,e,n){try{let s={accessToken:this.accessToken,uuid:r,amount:1e3,toAddress:e,toAppIndex:n},i=await h.call("bricks/send",s);console.log("got response!",i)}catch(s){console.log("there was an error ",s)}}async sendRickToMedia(r,e,n){try{let s={accessToken:this.accessToken,uuid:r,amount:1e3,toAddress:e,toAppIndex:n},i=await h.call("bricks/send-rick",s);console.log("got response!",i)}catch(s){console.log("there was an error ",s)}}async listBricks(r){try{if(r.length==0)throw new Error("Invalid creator address");let e={accessToken:this.accessToken,creatorAddress:r},n=await h.call("bricks/list",e);return console.log("got response!",n),n}catch(e){return console.log("there was an error ",e),null}}async deployMedia(r,e,n,s,i,o){try{if(r.length==0)throw new Error("Invalid uuid");if(e.length==0)throw new Error("Invalid name");if(o.length==0)throw new Error("Invalid creator address");let c={accessToken:this.accessToken,uuid:r,name:e,metadata:n,price:s,publicPerformancePrice:i,creatorAddress:o},u=await h.call("bricks/deploy-media",c);return console.log("got response!",u),u}catch(c){return console.log("there was an error ",c),null}}},Z=D;E(Z,"instance");var yr=Z;f();var O=class{accessToken="";constructor(){}static destroy(){O.instance&&(O.instance=null)}static getInstance(r){return r.length==0?null:(O.instance||(O.instance=new O),O.instance.accessToken=r,O.instance)}async send(r,e){try{let n={accessToken:this.accessToken,qText:r,ctx:e,respLength:140},s=await h.call("linr/music",n);return console.log("LiNR tests send, response is: ",s),s}catch(n){return console.error("there was an error: ",n),null}}async sendMedia(r,e){try{let n={accessToken:this.accessToken,qText:r,ctx:e,respLength:140},s=await h.call("linr/media",n);return console.log("LiNR tests send, response is: ",s),s}catch(n){return console.error("there was an error: ",n),null}}},rr=O;E(rr,"instance");var wr=rr;f();f();var M=class{address="";algonaut=null;nccTokenBal=-1;constructor(){}static destroy(){M.instance&&(M.instance=null)}static async getInstance(r){return M.instance||(M.instance=new M),M.instance.algonaut=r,M.instance}async getNCCBalance(){if(!this.algonaut)throw new Error("Invalid algonaut");if(!this.algonaut.account)throw new Error("No user logged in");return await this.algonaut.getTokenBalance(this.algonaut.account.address,101088863)}async isOptedNCC(){if(!this.algonaut)throw new Error("Invalid algonaut");if(!this.algonaut.account)throw new Error("No user logged in");return await this.algonaut.isOptedIntoAsset({account:this.algonaut.account.address,assetId:101088863})}async getAccessToken(){try{if(!this.algonaut)throw new Error("Invalid algonaut");let r=await this.algonaut.atomicCallApp({appIndex:101209779,appArgs:["get_token"],optionalFields:{assets:[101088863]}}),e=r.transaction.txID().toString();if(console.log("trying to sign this tx: ",r),!this.algonaut.walletState.activeWallet)throw new Error("No valid active wallet");let n=r.transaction.toByte();if(!this.algonaut.walletState.enabledWallets?.inkey)throw new Error("No valid inkey wallet");console.log("hello this is me: ",this.algonaut);let s=await this.algonaut.walletState.enabledWallets.inkey.signTransactions([n]);console.log(s);let i=this.algonaut.txnBuffToB64(s[0]),o=await h.call("get-access-token",{address:this.address,txId:e,signedTx:i});if(console.log("got response!"),console.log(o),!o)throw new Error("No access token response!");return o}catch(r){return console.log("there was an error ",r),{status:"fail",message:"Error getting access token",error:r,result:null}}}async refreshNCCBal(){try{if(!this.algonaut)throw new Error("Invalid algonaut");let r=await this.algonaut.getTokenBalance(this.address,101088863);this.nccTokenBal=r}catch(r){console.error("unable to refresh NCC balance: ",r)}}async getNCCs(){return await h.call("get-nccs",{address:this.address})}async createUserSLA(r){try{if(!this.algonaut)throw new Error("Invalid algonaut");if(!this.algonaut.account)throw new Error("No user logged in");let e=await this.isOptedNCC();if(e)return{status:"success",message:"Address already opted into NCCs",error:null,result:{address:this.algonaut.account.address,isOpted:e}};let n=await this.algonaut.sendTransaction([await this.algonaut.atomicOptInApp({appIndex:110525806,appArgs:[r]}),await this.algonaut.atomicOptInAsset(101088863),await this.algonaut.atomicOptInAsset(10458941)]);if(n.error)throw n.error;if(n.status=="fail")throw new Error("Failed to opt-in to NCC SLA app");console.log(n);let s=await this.getNCCs();if(s.error)throw s.error;if(s.status=="fail")throw new Error("Failed to get NCCs for user SLA");return console.log(s),{status:"success",message:"Created SLA contract for address",error:null,result:{address:this.algonaut.account.address,slaResult:n,nccDropResult:s.result}}}catch(e){return console.error("error in creating SLA contract: ",e),{status:"fail",message:"Error in creating SLA contract",error:e,result:null}}}},er=M;E(er,"instance");var mr=er;f();var B=class{accessToken="";algonaut=null;constructor(){}static destroy(){B.instance&&(B.instance=null)}static getInstance(r,e){return r.length==0?null:(B.instance||(B.instance=new B),B.instance.algonaut=e,B.instance.accessToken=r,B.instance)}validConfig(r){return!(r.apiKey.length==0||r.appId.length==0||r.authDomain.length==0||r.messagingSenderId.length==0||r.projectId.length==0||r.storageBucket.length==0)}async receive(r,e,n){try{if(r.length==0)throw new Error("Invalid UUID");if(!this.validConfig(n))throw new Error("Invalid TTM config");let s={accessToken:this.accessToken,uuid:r,lastRound:e,config:n};return await h.call("ttm/receive",s)}catch(s){return console.error("there was an error: ",s),null}}async send(r,e,n){try{if(!n||n==0)throw new Error("Invalid token target value");if(e){if(r.length==0)throw new Error("Invalid UUID")}else throw new Error("Invalid message");let s={accessToken:this.accessToken,uuid:r,tokenToTarget:n,message:e},i=await h.call("ttm/send",s);return console.log("TTM tests send: response",i),i}catch(s){return console.error("there was an error: ",s),null}}async optInToToken(r){try{if(!this.algonaut)throw new Error("Invalid algonaut");if(r==0)throw new Error("Invalid token asset ID to opt into");let e=await this.algonaut.optInAsset(r);return console.log("opt result: ",e),e}catch(e){return console.error("there was an error: ",e),null}}async getTokens(r){try{if(!this.algonaut)throw new Error("Invalid algonaut");if(r.length==0)throw new Error("Invalid user address");console.log("fetching tokens for "+r);let e=await this.algonaut.getAccountInfo(r),n=[];for(let s=0;s<e.assets.length;s++){let i=e.assets[s];if(i.amount){let o=i["asset-id"],c=await this.algonaut.getAssetInfo(o);console.log(c),n.push({id:c.index,name:c.params["unit-name"]+" - "+c.params.name})}}return n}catch(e){return console.error("there was an error: ",e),[]}}},tr=B;E(tr,"instance");var xr=tr;f();var L=class{accessToken="";constructor(){}static getInstance(r){return r.length==0?null:(L.instance||(L.instance=new L),L.instance.accessToken=r,L.instance)}static destroy(){L.instance&&(L.instance=null)}async registerUser(r,e){if(this.accessToken&&r.length&&e.length){console.log("registering user...");let n=await h.call("register-account",{accessToken:this.accessToken,uuid:r,creatorAddress:e});return console.log(n),n}else return alert("you need a token and some data!"),null}async deregisterUser(r){if(this.accessToken&&r.length){console.log("de-registering user");let e=await h.call("deregister-account",{accessToken:this.accessToken,uuid:r});return console.log(e),e}else return alert("you need a token and some data!"),null}async fundAccount(r,e,n){if(this.accessToken&&r.length&&e){console.log("funding...");let s=await h.call("fund-account",{accessToken:this.accessToken,uuid:r,asaId:n,amount:e});return console.log(s),s}else return alert("you need a token and some data!"),null}async getAllAccounts(r){if(this.accessToken&&r.length>0){let e=await h.call("list-accounts",{accessToken:this.accessToken,creatorAddress:r});return console.log("got response!",e),e}return null}async accountOptInApp(r,e,n){if(this.accessToken&&r.length){console.log("opting account into app...");let s=await h.call("opt-account-into-app",{accessToken:this.accessToken,uuid:r,appId:e,appArgs:n});return console.log(s),s}else return alert("you need a token and some data!"),null}async accountOptInToken(r,e){if(this.accessToken&&r.length&&e){console.log("opt in...");let n=await h.call("opt-account-into-token",{accessToken:this.accessToken,uuid:r,asaId:e});return console.log(n),n}else return alert("you need a token and some data!"),null}},nr=L;E(nr,"instance");var Ir=nr;f();var Hr=(i=>(i.Rodeo="rodeo",i.TTM="ttm",i.LiNR="linr",i.Bricks="bricks",i.Peels="peels",i))(Hr||{});var H=class{rodeo=null;bricks=null;linr=null;ttm=null;user=null;token=null;algonaut=null;docs=h.call("docs",{});dAPI=h;excludes=null;constructor(r){r&&(this.excludes=r)}async init(r){console.log("getting NCC Token instance...");let e=await mr.getInstance(r);this.algonaut=r,this.token=e,console.log("initialized NCC's happy dapi")}static destroyAll(){mr.destroy(),Ir.destroy(),q.destroy(),xr.destroy(),wr.destroy(),yr.destroy(),console.log("destroyed all services")}serviceSpecified(r){return!this.excludes||this.excludes&&!this.excludes.includes(r)}startServices(r){return this.algonaut?this.algonaut.account?this.algonaut.account.address&&r.length?(this.serviceSpecified("rodeo")&&(this.rodeo=q.getInstance(r)),this.serviceSpecified("bricks")&&(this.bricks=yr.getInstance(r)),this.serviceSpecified("linr")&&(this.linr=wr.getInstance(r)),this.serviceSpecified("ttm")&&(this.ttm=xr.getInstance(r,this.algonaut)),this.user=Ir.getInstance(r),console.log("started services"),!0):!1:(console.error("No user logged in"),!1):(console.error("Invalid algonaut instance"),!1)}};var Ar=class{dapis=null;endUser=null;constructor(r){if(!r.algonaut)throw new Error("Invalid algonaut instance");this.dapis=new H(r.excludes),this.dapis.init(r.algonaut)}};export{Hr as NCCDapiTypes,Ar as default};
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
//# sourceMappingURL=index.mjs.map
